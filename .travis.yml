language: java
jdk:
- openjdk8
install:
- export REDIS_BIN=$HOME/redis/3.0.7/bin
- export TMPDIR=/tmp
- wget -c https://github.com/antirez/redis/archive/3.0.7.tar.gz -O redis-3.0.7.tar.gz
- mv redis-3.0.7.tar.gz $TMPDIR
- cd $TMPDIR
- tar -xvf redis-3.0.7.tar.gz
- make -C redis-3.0.7 PREFIX=$HOME/redis/3.0.7 install
before_script:
- "$REDIS_BIN/redis-server --daemonize yes"
- sleep 3
- "$REDIS_BIN/redis-cli PING"
- export REDIS_VERSION="$(redis-cli INFO SERVER | sed -n 2p)"
- echo $REDIS_VERSION
- cd $TRAVIS_BUILD_DIR
- ls -la
- git status .
- openssl aes-256-cbc -k "$NETFLIX_OSS_SIGNING_FILE_PASSWORD" -in secrets/signing-key.enc -out secrets/signing-key -d
after_success:
- redis-cli SHUTDOWN NOSAVE
after_failure:
- redis-cli SHUTDOWN NOSAVE
script: "./buildViaTravis.sh"
cache:
  directories:
  - "$HOME/.gradle/caches"
env:
  global:
  - secure: eEjRoGTY9T+eN7Cpym9XG7ZwRlYfTFYBI2SJHHJnpfNKLJs6Tw3kyuNz4j7TL5iTkUbgSmmE/Nbb9UDKrmLHO+HlmQ6znpVzsp/RRp9MqytROXirfvYYxJmWmJBJlUYafIp5cEQVFbsdbFh2+nyqansJe7JSNtXDofBNEf8dkT3zgrkEf6iy5QwnRPVJVtNjuCPFL1LV8pPY/IGB66zsCevpCdfATrOCVJGOF9GnmbObfC651Ig6hvNZxkbejxGmj7GTxu7xhgAdzFQ+Bi6wZ573vV8MwwGwo5PxbA8lJhmOUrFT+ToMKxitT0eRGsma/4L8zvev8R8OR9r+BcsbFfZrf4JDykcWztfbTJmlWiCOG09Rn4sRuB/a3aNfqokqXQMOLH82hK0/gD60wtCq7mXMsV5G3H6D93i/5+cJEkNlRBLM8cJiqV0GnfR8nMGTg9gOFsRF5HyzFvLrlYVOY8LdlKFJE3FX/rio0cNi0ilDeq2dmYBGnu0gG9Ey55eEFNDbE9YDa1vD8dQ0eBFfiib+SiF13mdk++v4Bl3Dmook2yfamg99x9zuJ20vRUPSq6OOzaFO+Wpnl/QMPs9VHOBHJtth1Du4WK1FsV5Gayj7uPdrtj8MA4KKLEKtWQ6F5C3AfnU2MQCd8VUNTJtmjdtJ5wS0mAPPjYB4KJqETC4=
  - secure: ZRt6jZtYfkMHaUOrm5K1e7jlrx/a4pThCP4yq5u6q0iBO1psEMS9QIVKF/pvmWbtqy32g/Z0uS/2ESxRIChZJU5L/xZ9noO58xfBfKEHlBUjwFwlaN3MTAXp0QzSHFhYSg5mpFTUg1c5Wd0b6DDfeHKbGoWmjNEF5WJAhSZyTW92CfFka9T4pg1Z35eqXhNvwp4sWEVhOmt0PlarhJIdFxtr5eaodEbKf6icTo8Ep47LZbAisgL93P5cEesi6oBK6PXEEpK4mGsKp9PSl2J2V5Rrci5uNjQGLporcQf/fCLmpozV7H13qHsfn3wgFz8X4nQVHRpT3NwG9OkkbNBDf95nWMcDrSafhINJ+RhgO5OP0jldy32pkYiFK6cNR9XLjSRYjJsPN+ELTa4F5Ql98oNDbIIT+P9MT7Fco/Q8N1irgTZhFZXLgweqyGql+5Exw+au005b+drM/T2ssP5i173BVyok32KIW1D+5dfae0hat6OVKkVNc20u9sifbBVHhBqBFGBXrxZXMH+RDM8RRe7kEi0U33J2p2kKxqDWYuoT/c6BplC9i4+Ee5HNWeG0Hxn2WLK4Ttt7CdVwlS1U+1UFB2N7n1zX4zRh2dxKRRrAzsbS8YlcgawYEE+fQxGbkUnqJ0gWs0YU0hHcpu/sHNddhHuHekrx8Uten8A/Fbc=
  - secure: k6WGpdbdfIyVBRoKJKuu7VaPEh5ux8fuaW9xxl0wG2tqWP/tfyWvxURNr3Qx3VwPNsiiTV7jhod1kFOzVT0LGanNBEP2N2qiJYTvGaRPLx4tE67HhAqeinnvvUro1k019yHCMgT5tMtVD1HEi7J0Jbi3vB7nVVql0pRFQXB0NrMK4P+J8DD3ClbKX0iie4wvwNNfNq03R4Vn3fF7CDih3WJafcDDdYqaipq9h/BqbkZ/x96DaOQW+o3+rSN976qo/8NvqmZL6cfyR1yiOagMISzJwwjWBW9rT9/a7LK3yOCUQtb+W2wtEN117ggRnFbFS7QLS0e7eLh2OcL20yg6WhVigpFOlrcK0BgdPm18ZGf3icnmcMODXGutxcEECpZF5BuHSNIpK4Fm2a4E4tNEvrEy8rwhqJVQBBGOoWpIHfOL+86RDd6sA0CYu4rdrB5gYROnQkaavYIyOCuTBUMSXaqIL/SKJi9Mz5r1Svuf4K9UQK9wQo7a9MFajlm8QWepngrqkC1G3AmqG1edYCVUwWx3eubf++gNhPV1oGTBOa2gqWQTp9+3C7qTmy3YhD6WUvUcLOOfgiURQhJFSxsS+aSQvB+2ZxVjxL5U6RSx0eB60CnDCZaRm/dLChK1BnBUaYJE59yvVgy7C0yW8E8AtR8VjgnTLHMwUrt2D8ejyXU=
  - secure: Ey9NK5fxSVajZHGV8O41/ZEHRIu0xdp7FalhAdYaGAflMiuMvdP+iuwfv1RONVvFVMLfuBc7wu7e1XZlRfA1G5zIhQM8LNdckPWKZVhcHpbRka9c6IlOPArwQTiHfwYWlZfWfAK9akVXcc/1tK4ePU5JZDIAKer4xw3AvtsH302CkLMYIQInm8Xf8YSTVMfWtFTANA3pU6zbiDvJLTj4/NE/9tNeL0xoG0AGRnhyXb27N9nbiLCekweGLipuqogR5I1lYsK8VHFlkLeSbwjEcsbV++eS3cGSsDW557RfbIRQXE7cP7buIxyFzPgiNh3beDihBEv0PNkYR5U4lXxn2/RReOTaAB37r2BFN/WnppCDkWKqT4HPaWYnVlm+0XVA6m4gSVoC8EC7kvc2DseKUn7PiAVED+UeA/PCfRYk213vgDxKor3O4iRXmbfoR/AbLgs6AKYK6RHNrL/Be21QT2Wyv1yT+82TTzY3xkesz6+f+NQU21AvNahdvgcXGSYJ7NaGY8kDUvZ6NJtAdpWnI5H5l6PPiWRlmsIr/qWwmGLjHyEI+fdQJdJlZg639J5kzjHYX5brN6/Qjvc8++NmBg6OiIyJ7+DreEoco5npoDHTNOF16HpPZ89JIof8oq5bJKrvsxFjgQMmf2yWnS7nJRP8g0/0mkDoAyYb0N7CKls=
  - secure: rVxtKHNl7PrBHtWnKLlOi3yhTnlMHWG9fZbm9m4eMcEf6pUnD54KBu5kJDuQv5dyFYcHoI9Pbzfhq0f4aAll37vThwXHpfYKRAAs8SkkNcUsmM6w2ALkM8Xz+WKsUx1x0U+wWvBFIErzyB2sDY7+QIzfNRCuS9zs0h+1tH9350AlurgLwuHQVjwVSmdEkicR1vvILap+RiDwpVQrqEB+imhIgH4G826NpkQjdmbBszEOgfCUeFp1N0MmA2ln+MbFhKWaoKDAdJlsHh2R5vn4rR2jl9VuFa7zgmk0hIycM2p9OxJuO//Nz9jm4h5mFsvirSSu0v25rWe+WU8tc3auzR6t3RkwTiizZhYH/CXRwPMeXIs0wvZmStkwwsiROHBboCV9HPjHG/98ziXjL2NbNP/EmJDj9wKqy2SmggVVxnNAE9DoIX73+Vk8aDEOgE/Xy3FZ838IsCVmodz1v01bFL3Hac+oL2Wd92DlOgtQaSIqoZE5XTxbtAGvFm1nyFhOCHv6B33IbuJjtMrpzqrZb+WpvPU45pJXFfqM5m9TflBOBrwersFKe1+zyw6oDUpMqzD3F6B1b0e4nVL4J8gn8iO8Am4/7Xk1bXfWrySkDF8TEEJV+XLrUcnQULDzjhp3IVYCB0tAdybeNVHJ0ReLEBBB3XPaRxc0BGqpghWdn5c=
  - secure: TZFMcFcEkxV9puUgZh4tVxqD0biCmESRyluIcyzYfjbVGRbH2p0+oaU1NtMgGGyCfRaHx1UizjKAtXqsjoK/f31bKmBFC1CB9rWJZF8HHxekVi+fhCy7IL9I7dhs9NBl6pZe9SZVr4gmiAszFYfLIzh1BSg1sZf//M9p5DdMcQ6EaAn0iELq6XwtzCbzEL/mhLZyJYkySa0k8gTktopZef1yuk8E0nFAMafvFWGDmFriAe7HUMeh7i50RrmxiPGBCGycv2Xof5XDm7ppOtpBn/TMonY3C3I4y4fg71sW/uDFi5ndDUOgqPzFO618Uppf2+4tqBIj0ksltm989HEc58S/UGl5KaR2ne3Y6NVPngMC8P9jmm3fIfAdHvQ78qBlIkP3VrfW+7DYOOvoVQ4Cwjfb8wZTwXuBeLHdiyNnwnywEARcoxNU/bpcNI7KliK2WWXxZ3bAvQVUzRmHBi5O+LA0EfTajmGt6IXz6DVaAFxjJ/ekznw40ybnI4grwNOB3t5TWCG2AIelc+2h8allM5Nsoj43uhIgVGhqzqTYW1dHyROnHIyNQrX3xk7tPQD5Ux0U9zDVRGKuJShQgUha0018PdNJF+wFlO8dhxjhUEncHKjFGcjL/jx8awFRuR5SO6tKw3LQXzVxGXqp/0wlrtPwJhOVVOqQEa3FjQgXBwE=
